---
title: "Что такое REST API?"
tags: ["Backend"]
date: "2021-02-07"
active: "true"
ready: "true"
---

Представим, что мы разработали backend сервис социальной сети, который работает с данными пользователей. У него в базе хранятся все данные  имена, фамилии, даты рождения, различные посты и подписки, лайки.

И тут появилось клиентское приложение, веб или мобильное, которое на основе наших данных, решило разработать рекламный сервис, который бы мог работать с нашей аудиторией, анализировать ее предоставлять компаниям возможность размещать и показывать рекламу этим пользователям.

Но у него нет доступа к базе наших данных.

> **REST API** - Это архитектурный стиль, который позволяет описать,
> как будет предоставляться доступ к ресурсам сервера клиентским приложениям, веб,
> мобильным или даже другим сервисам бэкенд. Он работает на основе протокола HTTP.

Тут нам на помощь приходит rest api. Он нам позволит реализовать так называемый интерфейс для работы с нашими данным, на основе наших договоренностей.

То есть, конечным результатом будет возможность получать данные по каким-то параметрам. Но при этом клиентам будет все равно, что происходит внутри.

## Рассмотрим примеры составления REST запросов:
```java
// Запрос на получение 10 пользователей отсортированных по дате рождения

GET /users?size=10&orderBy=birthDate HTTP/1.1
Authorization: Bearer <Token>
Content-Type: application/json
Host: localhost:3000
Connection: close
```

```java
// Запрос на получение данных пользователя по его id=1

GET /users?size=10&orderBy=birthDate HTTP/1.1
Authorization: Bearer <Token>
Content-Type: application/json
Host: localhost:3000
Connection: close
```

```java
// Запрос на добавление нового пльзователя

POST /users/add HTTP/1.1
Content-Type: application/json; charset=utf-8
Host: localhost:3000
Connection: close
Content-Length: 56

body: {"name":"Jogn","birthDate":"22-03-1995","city":"Moscow"}
```

Как можно увидеть, клиентскому сервису необходимо знать адрес, передаваемые параметры и возвращаемое значение.
Что происходит внутри, какая там база или внутреннее устройство сервисов - ему на это все равно.

## Какие данные можно передавать

#### Заголовки (Headers)

В заголовках мы можем передавать типа данных, которые мы отправляем или получаем,
в данном случае это application/json, это может быть xml, html, картинки и много всего.
Также токены авторизации, размер данных, настройки кеширования,
сжатия и многое-многое другое

#### Типа запроса

```
GET - Получение данных, дополнительные данные передаются в url параметрами.

POST - как правило используется, когда мы хотим внести какие-то изменения, например добавить новго пользователя. Данные передаются в body. Иногда post запрос тоже используют для получения данных

DELETE - опять же внести изменение, удалить пользователя

PUT - Тоже внесение изменений, апдейт или реплейс сущностей
```

Есть еще другие, подробнее можно ознакомиться <a href="https://restfulapi.net/http-methods/" target="_blank">тут.</a>

#### Коды ответов.

В HTTP <a href="https://restfulapi.net/http-status-codes/" target="_blank">множество кодов ответов</a> на любой случай.
Самые известные из них:

**200** - успешный ответ

**404** - url не найден

**500** - сервер не отвечает

**403** - нет доступа к ресурсу, например мы не передали токен авторизации
